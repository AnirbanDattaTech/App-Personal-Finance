We will now start the development for a chatbot that can query the data and answer data related questions. For now, we will limit the scope to EDA and data analytics, and basic statistics related questions, to cover all areas a person might be interested in insight based on your understanding of the data, metadata and the project structure (what we are trying to do here). So we will keep all questions that require advanced statistical knowledge like probability and distributions, predictive modelling, and ML related questions (classification, regression, forecasting etc) out of scope.

REQUIREMENT-
1. DATA STRUCTURE AND HISTORY REQUIREMENT-
	1.1. The chatbot needs to remember the conversation history for a session for subsequent follow up questions, but no long term history needs to be saved. So each time the app is opened, a new conversation can be started where the context can be managed for the duraton of the session only.
	1.2. Currently the project has only 1 data file, the sqlite db table. Consider, based on the requirment, if any additional database needs to be created where additional chatbot related data to be stored. Modularize the codebase, creating a new folder for storing all the data files if needed, accordingly. Remember, modularity and simplicity are key requirments. The existing code may need to change to update the location references.
	1.3. I think a metada file with detailed description of all tables and all columns, including their data type, detailed description, unique values(where applicable), special constraints (like rent - once a month only, investment - once a month only) and other relevant information are required. If you agree, generate a metadata_detailed.txt file with this info. Modularize the codebase, creating a new folder for storing all the metadata files if needed, accordingly. Remember, modularity and simplicity are key requirments. The existing code may need to change to update the location references.
	
2. DESIGN REQUIREMENT-
	2.1. The chatbot needs to be in a fourth tab called 'Assistant' after visualization.
	2.2. In the assistant tab, there needs to be a simple pre-generated system messge: 'Greetings! What can I help you with?' Followed by a text box where i or my wife (not at the same time) can ask a simple question like 'what is my total spend for april?' and after the chatbot answers, ask 'ok, out of this how much did i spend on resturants?'
	
3. DEVELOPMENT REQUIREMENT - 
	3.1. we will use openai, langchain and langgraph to build an agent architecture. I will upload the requirement file, pls ensure we have all the necessary dependencies to get started.
	3.2. I think in the agent architecture, there needs to be the following nodes:
		3.2.1 Classifier node - See if the question is in scope according to : "limit the scope to EDA and data analytics, and basic statistics related questions, to cover all areas a person might be interested in insight based on your understanding of the data, metadata and the project structure (what we are trying to do here). So we will keep all questions that require advanced statistical knowledge like probability and distributions, predictive modelling, and ML related questions (classification, regression, forecasting etc) out of scope." A detailed prompt with the best prompting techniques needs to be developed for this node. Do so.
		
		3.2.2. Analyst node - this node receives the question from classifier node and any additional state input, and gets the relevant results from the data. you can create your own sql queries based on entity extraction from the user question, or you can use a sql tool from langchain / langgraph. Keep langchain dependency to minimum and use langgraph where possible,  as langchain is not a well developed package. Use it as necessary. Finally the analyst node needs to generate the relevant response.  A detailed prompt with the best prompting techniques needs to be developed for this node. Do so.
	
	3.3. Only 1 user at a time, no need to worry about concurrent users.
	3.4. focus on modularity and simplicity of the entire codebase based on this new requirement.
	3.5. carefully consider what impact it will have on the existing data/ code and modify accordingly. Existing functioalities and UI MUST remain as is.
	3.6 These are just *INDICATIVE* steps, understand the requirement and ask as many clarification questions as needed. I will also share with you the updated code content so you are upto speed.
	3.7 please carefully consider the requirment, focusing on error-free running, simlicity, robustness and scalability, and suggest changes to approach, additions, enhancements and recommedations.
	3.8 Finally, suggest a detailed step by step approach to implement the agentic ai chatbot according to requirement. No code necessary, just discuss the approach with me before development.